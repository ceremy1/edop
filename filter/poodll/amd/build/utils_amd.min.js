define(["jquery","core/log","filter_poodll/uploader"],function(a,b,c){"use strict";return b.debug("Filter PoodLL: utils initialising"),{timeouthandles:[],WhiteboardUploadHandler:function(b,d,e){var f=a("#"+b+"_btn_upload_whiteboard")[0];f.disabled=!0,clearTimeout(this.timeouthandles[b]);var g=this.getCvs(b,d,e);this.pokeVectorData(b,d,e),c.uploadFile(g.toDataURL(),"image")},getCvs:function(a,b){if(0==a.indexOf("drawingboard_"))var c=b.canvas;else var c=b.canvasForExport();return c},pokeVectorData:function(b,c,d){var e="";e=0==b.indexOf("drawingboard_")?JSON.stringify(c.history,null,2):JSON.stringify(c.getSnapshot()),"undefined"!=typeof d.vectorcontrol&&""!==d.vectorcontrol&&a("#"+d.vectorcontrol).val(e)}}});